\hypertarget{line_8h_source}{}\subsection{line.\+h}
\label{line_8h_source}\index{line.\+h@{line.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ * The MIT License (MIT)}
00003 \textcolor{comment}{ *}
00004 \textcolor{comment}{ * Copyright (c) 2015 David Krepsky}
00005 \textcolor{comment}{ *}
00006 \textcolor{comment}{ * Permission is hereby granted, free of charge, to any person obtaining a copy}
00007 \textcolor{comment}{ * of this software and associated documentation files (the "Software"), to deal}
00008 \textcolor{comment}{ * in the Software without restriction, including without limitation the rights}
00009 \textcolor{comment}{ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell}
00010 \textcolor{comment}{ * copies of the Software, and to permit persons to whom the Software is}
00011 \textcolor{comment}{ * furnished to do so, subject to the following conditions:}
00012 \textcolor{comment}{ *}
00013 \textcolor{comment}{ * The above copyright notice and this permission notice shall be included in}
00014 \textcolor{comment}{ * all copies or substantial portions of the Software.}
00015 \textcolor{comment}{ *}
00016 \textcolor{comment}{ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}
00017 \textcolor{comment}{ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}
00018 \textcolor{comment}{ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}
00019 \textcolor{comment}{ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}
00020 \textcolor{comment}{ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}
00021 \textcolor{comment}{ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}
00022 \textcolor{comment}{ * SOFTWARE.}
00023 \textcolor{comment}{ */}
00024 
00043 \textcolor{preprocessor}{#ifndef MODELS\_LINE\_H}
00044 \textcolor{preprocessor}{#define MODELS\_LINE\_H}
00045 
00046 \textcolor{preprocessor}{#include <QJsonObject>}
00047 \textcolor{preprocessor}{#include <QGraphicsObject>}
00048 \textcolor{preprocessor}{#include <QPointer>}
00049 \textcolor{preprocessor}{#include <complex>}
00050 \textcolor{preprocessor}{#include "\hyperlink{bar_8h}{models/bar.h}"}
00051 \textcolor{preprocessor}{#include "\hyperlink{network_8h}{models/network.h}"}
00052 \textcolor{preprocessor}{#include "\hyperlink{infoline_8h}{graphics/infoline.h}"}
00053 
00054 QT\_BEGIN\_NAMESPACE
00055 \textcolor{keyword}{class }\hyperlink{class_bar}{Bar};
00056 \textcolor{keyword}{class }\hyperlink{class_info_line}{InfoLine};
00057 \textcolor{keyword}{class }\hyperlink{class_network}{Network};
00058 QT\_END\_NAMESPACE
00059 
00060 \textcolor{keyword}{using} std::complex;
00061 
\hypertarget{line_8h_source_l00136}{}\hyperlink{class_line}{00136} \textcolor{keyword}{class }\hyperlink{class_line}{Line} : \textcolor{keyword}{public} QGraphicsObject
00137 \{
00138   Q\_OBJECT
00139 
00140 \textcolor{keyword}{public}:
00141   \textcolor{comment}{/*****************************************************************************}
00142 \textcolor{comment}{   * Constants.}
00143 \textcolor{comment}{   ****************************************************************************/}
\hypertarget{line_8h_source_l00149}{}\hyperlink{group___models_gadc334bd07c6126abc56e531d7e3e72b4}{00149}   \textcolor{keyword}{static} \textcolor{keyword}{const} int32\_t \hyperlink{group___models_gadc334bd07c6126abc56e531d7e3e72b4}{kInvalidNode};
00150 
00151   \textcolor{comment}{/*****************************************************************************}
00152 \textcolor{comment}{   * Public properties.}
00153 \textcolor{comment}{   ****************************************************************************/}
\hypertarget{line_8h_source_l00159}{}\hyperlink{class_line_afd17c40d656e6a8d677cb22df5f0c70b}{00159}   QPair<int32\_t, int32\_t> \hyperlink{class_line_afd17c40d656e6a8d677cb22df5f0c70b}{nodes};
00160 
00161   \textcolor{comment}{/*****************************************************************************}
00162 \textcolor{comment}{   * Public methods.}
00163 \textcolor{comment}{   ****************************************************************************/}
00169   \hyperlink{group___models_gacc11b8a429d8cdd63ba6803dff5602b3}{Line}();
00170 
00177   \hyperlink{group___models_gaabe85f48d22d92b62257091f48174fac}{~Line}();
00178 
00186   \hyperlink{class_network}{Network} *\hyperlink{group___models_gaa4cfa330c9c53ddaf86c8f5c17ba1ee0}{network}();
00187 
00195   \textcolor{keywordtype}{void} \hyperlink{group___models_ga320766e09f0ea36b2dd07d3b1db1b72e}{setNetwork}(\hyperlink{class_network}{Network} *\hyperlink{group___models_gaa4cfa330c9c53ddaf86c8f5c17ba1ee0}{network});
00196 
00229   complex<double>  \hyperlink{group___models_ga0b44ccb2f14635c42d7eab3fe8940692}{z}(int8\_t index, \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit::ImpedanceUnit} unit = 
      \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit::kOhmPerUnit});
00230 
00246   complex<double>  \hyperlink{group___models_ga0b44ccb2f14635c42d7eab3fe8940692}{z}(int8\_t line, int8\_t colum,
00247                      \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit::ImpedanceUnit} unit = 
      \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit::kOhmPerUnit});
00248 
00259   \textcolor{keywordtype}{void} \hyperlink{group___models_ga2b8fe47ae4ae2d4422d9431e17b4927d}{setZ}(int8\_t index, complex<double> newImpedance,
00260             \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit::ImpedanceUnit} unit = \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit::kOhmPerUnit});
00261 
00274   \textcolor{keywordtype}{void} \hyperlink{group___models_ga2b8fe47ae4ae2d4422d9431e17b4927d}{setZ}(int8\_t line, int8\_t colum, complex<double> newImpedance,
00275             \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit::ImpedanceUnit} unit = \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit::kOhmPerUnit});
00276 
00287   complex<double> \hyperlink{group___models_ga2ad899adaa4f2e25b38c58e076db94ea}{i}(int8\_t phase, \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787}{Unit::CurrentUnit} unit = 
      \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787aeed3b50e464d581cb630181a3b6a0709}{Unit::kAmperePerUnit});
00288 
00298   \textcolor{keywordtype}{void} \hyperlink{group___models_gab01ecad45ee9d81a33b9f5806533066c}{setI}(int8\_t phase, complex<double> newCurrent,
00299             \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787}{Unit::CurrentUnit} unit = \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787aeed3b50e464d581cb630181a3b6a0709}{Unit::kAmperePerUnit});
00300 
00311   complex<double> \hyperlink{group___models_ga511d4e89d613d4f222480476f2da3abe}{loss}(int8\_t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit::PowerUnit} unit = 
      \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit::kVaPerUnit});
00312 
00322   \textcolor{keywordtype}{void} \hyperlink{group___models_gaf154792ce92a49027384b29de75373b9}{setLoss}(int8\_t phase, complex<double> newLoss,
00323                \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit::PowerUnit} unit = \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit::kVaPerUnit});
00324 
00334   \textcolor{keywordtype}{double} \hyperlink{group___models_gae2e4500d0fa60dcc2ecb08b2c96954f9}{length}(\hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0}{Unit::LengthUnit} unit = \hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0abfa41ebe7ee649a1f02c9b8ae570434b}{Unit::kMeter});
00335 
00348   \textcolor{keywordtype}{void} \hyperlink{group___models_ga950d0b8f5d167eda430c65ca7adadbb0}{setLength}(\textcolor{keywordtype}{double} newLength, \hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0}{Unit::LengthUnit} unit = 
      \hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0abfa41ebe7ee649a1f02c9b8ae570434b}{Unit::kMeter});
00349 
00359   \hyperlink{class_bar}{Bar} *\hyperlink{group___models_gaeafd90e84ac2f8de2a879abe9e53eef3}{pNoI}();
00360 
00370   \hyperlink{class_bar}{Bar} *\hyperlink{group___models_gabbc73ddedd3075c33ae5331bd7c9829f}{pNoF}();
00371 
00382   \textcolor{keywordtype}{void} \hyperlink{group___models_gaeeab146e6c1d7d1a688a2764a9c9a170}{setNodes}(\hyperlink{class_bar}{Bar} *\hyperlink{group___models_gaeafd90e84ac2f8de2a879abe9e53eef3}{pNoI}, \hyperlink{class_bar}{Bar} *\hyperlink{group___models_gabbc73ddedd3075c33ae5331bd7c9829f}{pNoF});
00383 
00394   QJsonObject \hyperlink{group___models_ga4effa7a96db465ea6e01135d5a010739}{toJson}();
00395 
00403   \textcolor{keywordtype}{void} \hyperlink{group___models_ga62623ad71df5279377cc69da90decc75}{fromJson}(QJsonObject &lineJson);
00404 
00410   \textcolor{keywordtype}{void} \hyperlink{group___models_ga8fdb12651d4bc592616d241386b066b3}{updatePosition}();
00411 
00417   QRectF \hyperlink{group___models_gad15c3af158d3b966c04be7e18cee5aea}{boundingRect}() const Q\_DECL\_OVERRIDE;
00418 
00424   QPainterPath \hyperlink{group___models_gaf1736b829a643d99052ef6428ddd5b16}{shape}() const Q\_DECL\_OVERRIDE;
00425 
00432   QVariant \hyperlink{group___models_ga5fcee3f23eb50e34f730d602a3802b93}{itemChange}(GraphicsItemChange change,
00433                       const QVariant &value) Q\_DECL\_OVERRIDE;
00434 
00435 signals:
00436   \textcolor{comment}{/*****************************************************************************}
00437 \textcolor{comment}{   * Signals.}
00438 \textcolor{comment}{   ****************************************************************************/}
00444   \textcolor{keywordtype}{void} \hyperlink{class_line_a2444b577ea2254994599c6f829c629a5}{eventDoubleClick}();
00445 
00446 protected:
00447   \textcolor{comment}{/*****************************************************************************}
00448 \textcolor{comment}{   * Protected methods.}
00449 \textcolor{comment}{   ****************************************************************************/}
00458   \textcolor{keywordtype}{void} \hyperlink{group___models_ga9a1fee5b1606ab0deedd04bdab99be70}{mouseDoubleClickEvent}(QGraphicsSceneMouseEvent *event) Q\_DECL\_OVERRIDE;
00459 
00466   \textcolor{keywordtype}{void} \hyperlink{group___models_ga0aa64aed379d434be5942edf572b444b}{paint}(QPainter *painter, const QStyleOptionGraphicsItem *option,
00467              QWidget *widget) Q\_DECL\_OVERRIDE;
00468 
00469 private:
00470   \textcolor{comment}{/*****************************************************************************}
00471 \textcolor{comment}{   * Static private data.}
00472 \textcolor{comment}{   ****************************************************************************/}
00473   static const int8\_t kImpedanceMatrixMap[3][3];
00474 
00475   \textcolor{comment}{/*****************************************************************************}
00476 \textcolor{comment}{   * Private properties.}
00477 \textcolor{comment}{   ****************************************************************************/}
00483   QPointer<\hyperlink{class_network}{Network}> network\_;
00484 
00490   QPointer<\hyperlink{class_bar}{Bar}> pNoI\_;
00491 
00497   QPointer<\hyperlink{class_bar}{Bar}> pNoF\_;
00498 
00504   complex<\textcolor{keywordtype}{double}> z\_[6];
00505 
00511   complex<\textcolor{keywordtype}{double}> i\_[3];
00512 
00518   complex<\textcolor{keywordtype}{double}> loss\_[3];
00519 
00525   \textcolor{keywordtype}{double} length\_;
00526 
00532   QLineF coords;
00533 
00539   QPolygonF selectionArea;
00540 
00546   \hyperlink{class_info_line}{InfoLine} *infoLine;
00547 
00548   \textcolor{comment}{/*****************************************************************************}
00549 \textcolor{comment}{   * Private methods.}
00550 \textcolor{comment}{   ****************************************************************************/}
00556   \textcolor{keywordtype}{void} showInfo();
00557 
00563   \textcolor{keywordtype}{void} hideInfo();
00564 \};
00565 
00566 \textcolor{preprocessor}{#endif  // MODELS\_LINE\_H}
00567 
\end{DoxyCode}
