\hypertarget{bar_8h_source}{}\subsection{bar.\+h}
\label{bar_8h_source}\index{bar.\+h@{bar.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ * The MIT License (MIT)}
00003 \textcolor{comment}{ *}
00004 \textcolor{comment}{ * Copyright (c) 2015 David Krepsky}
00005 \textcolor{comment}{ *}
00006 \textcolor{comment}{ * Permission is hereby granted, free of charge, to any person obtaining a copy}
00007 \textcolor{comment}{ * of this software and associated documentation files (the "Software"), to deal}
00008 \textcolor{comment}{ * in the Software without restriction, including without limitation the rights}
00009 \textcolor{comment}{ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell}
00010 \textcolor{comment}{ * copies of the Software, and to permit persons to whom the Software is}
00011 \textcolor{comment}{ * furnished to do so, subject to the following conditions:}
00012 \textcolor{comment}{ *}
00013 \textcolor{comment}{ * The above copyright notice and this permission notice shall be included in}
00014 \textcolor{comment}{ * all copies or substantial portions of the Software.}
00015 \textcolor{comment}{ *}
00016 \textcolor{comment}{ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}
00017 \textcolor{comment}{ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}
00018 \textcolor{comment}{ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}
00019 \textcolor{comment}{ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}
00020 \textcolor{comment}{ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}
00021 \textcolor{comment}{ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}
00022 \textcolor{comment}{ * SOFTWARE.}
00023 \textcolor{comment}{ */}
00024 
00043 \textcolor{preprocessor}{#ifndef MODELS\_BAR\_H}
00044 \textcolor{preprocessor}{#define MODELS\_BAR\_H}
00045 
00046 \textcolor{preprocessor}{#include <QJsonObject>}
00047 \textcolor{preprocessor}{#include <QGraphicsObject>}
00048 \textcolor{preprocessor}{#include <complex>}
00049 \textcolor{preprocessor}{#include "\hyperlink{customtypes_8h}{customtypes.h}"}
00050 \textcolor{preprocessor}{#include "\hyperlink{line_8h}{models/line.h}"}
00051 \textcolor{preprocessor}{#include "\hyperlink{network_8h}{models/network.h}"}
00052 \textcolor{preprocessor}{#include "\hyperlink{infobar_8h}{graphics/infobar.h}"}
00053 
00054 QT\_BEGIN\_NAMESPACE
00055 \textcolor{keyword}{class }\hyperlink{class_line}{Line};
00056 \textcolor{keyword}{class }\hyperlink{class_network}{Network};
00057 \textcolor{keyword}{class }\hyperlink{class_info_bar}{InfoBar};
00058 QT\_END\_NAMESPACE
00059 
00060 \textcolor{keyword}{using} std::complex;
00061 
\hypertarget{bar_8h_source_l00112}{}\hyperlink{class_bar}{00112} \textcolor{keyword}{class }\hyperlink{class_bar}{Bar} : \textcolor{keyword}{public} QGraphicsObject
00113 \{
00114   Q\_OBJECT
00115 
00116 \textcolor{keyword}{public}:
00117 
00118   \textcolor{comment}{/*****************************************************************************}
00119 \textcolor{comment}{   * Constants.}
00120 \textcolor{comment}{   ****************************************************************************/}
\hypertarget{bar_8h_source_l00127}{}\hyperlink{group___models_ga9919592c0397ed41448dfb20b607d738}{00127}   \textcolor{keyword}{static} \textcolor{keyword}{const} int32\_t \hyperlink{group___models_ga9919592c0397ed41448dfb20b607d738}{kInvalidId};
00128 
00129   \textcolor{comment}{/*****************************************************************************}
00130 \textcolor{comment}{   * Properties.}
00131 \textcolor{comment}{   ****************************************************************************/}
\hypertarget{bar_8h_source_l00137}{}\hyperlink{class_bar_a9dc5c6a6d44fe412ae34ef8a881b8dce}{00137}   int32\_t \hyperlink{class_bar_a9dc5c6a6d44fe412ae34ef8a881b8dce}{id};
00138 
\hypertarget{bar_8h_source_l00144}{}\hyperlink{class_bar_a80025f13884750add58cc61b318357ff}{00144}   \hyperlink{class_network}{Network} *\hyperlink{class_bar_a80025f13884750add58cc61b318357ff}{network};
00145 
\hypertarget{bar_8h_source_l00152}{}\hyperlink{class_bar_a23b6d4319352ef0e77ad66aade4e0209}{00152}   QVector<Line *> \hyperlink{class_bar_a23b6d4319352ef0e77ad66aade4e0209}{lines};
00153 
00154   \textcolor{comment}{/*****************************************************************************}
00155 \textcolor{comment}{   * Constructor.}
00156 \textcolor{comment}{   ****************************************************************************/}
00161   \hyperlink{group___models_ga9cae2188fcc6cce41caa7898c64548d1}{Bar}();
00162 
00163   \textcolor{comment}{/*****************************************************************************}
00164 \textcolor{comment}{   * Constructor with initial conditions.}
00165 \textcolor{comment}{   ****************************************************************************/}
00176   \hyperlink{group___models_ga9cae2188fcc6cce41caa7898c64548d1}{Bar}(complex<double> initialV, complex<double> initialSh = 0.0,
00177       complex<double> initialSi = 0.0);
00178 
00179   \textcolor{comment}{/*****************************************************************************}
00180 \textcolor{comment}{   * Destructor.}
00181 \textcolor{comment}{   ****************************************************************************/}
00186   \textcolor{keyword}{virtual} \hyperlink{group___models_ga9c7ebea0c189423591741ac438985316}{~Bar}();
00187 
00188   \textcolor{comment}{/*****************************************************************************}
00189 \textcolor{comment}{   * Initial Voltage.}
00190 \textcolor{comment}{   ****************************************************************************/}
00200   complex<double> \hyperlink{group___models_ga1e6f2daec86407118656d88170d1adc2}{v}(int32\_t phase, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit::VoltageUnit} unit = 
      \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit::kVolts});
00201 
00202   \textcolor{comment}{/*****************************************************************************}
00203 \textcolor{comment}{   * Set initial Voltage.}
00204 \textcolor{comment}{   ****************************************************************************/}
00213   \textcolor{keywordtype}{void} \hyperlink{group___models_ga9b6fbc92674bfcdc9d5090795ab335a6}{setV}(int32\_t phase, complex<double> newVoltage,
00214             \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit::VoltageUnit} unit = \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit::kVolts});
00215 
00216   \textcolor{comment}{/*****************************************************************************}
00217 \textcolor{comment}{   * Shunt Power.}
00218 \textcolor{comment}{   ****************************************************************************/}
00228   complex<double> \hyperlink{group___models_gac188071bf5f165b0acdaa4c8af82355c}{sh}(int32\_t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit::PowerUnit} unit = 
      \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit::kVA});
00229 
00230   \textcolor{comment}{/*****************************************************************************}
00231 \textcolor{comment}{   * Set Shunt Power.}
00232 \textcolor{comment}{   ****************************************************************************/}
00241   \textcolor{keywordtype}{void} \hyperlink{group___models_ga207abd3d0649a488e3c44cf2a501ed23}{setSh}(int32\_t phase, complex<double> newPower,
00242              \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit::PowerUnit} unit = \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit::kVA});
00243 
00244   \textcolor{comment}{/*****************************************************************************}
00245 \textcolor{comment}{   * Injected power.}
00246 \textcolor{comment}{   ****************************************************************************/}
00256   complex<double> \hyperlink{group___models_ga02bbc279f1e133f66b12ee21e7bebcd8}{si}(int32\_t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit::PowerUnit} unit = 
      \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit::kVA});
00257 
00258   \textcolor{comment}{/*****************************************************************************}
00259 \textcolor{comment}{   * Set Injected power.}
00260 \textcolor{comment}{   ****************************************************************************/}
00270   \textcolor{keywordtype}{void} \hyperlink{group___models_ga74e510be49e50e4c14550b32e1dc92f9}{setSi}(int32\_t phase, complex<double> newPower,
00271              \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit::PowerUnit} unit = \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit::kVA});
00272 
00273   \textcolor{comment}{/*****************************************************************************}
00274 \textcolor{comment}{   * Result voltage.}
00275 \textcolor{comment}{   ****************************************************************************/}
00285   complex<double> \hyperlink{group___models_ga2d1f6bfbd8abaf168bb75bd8e5cd9b5e}{rV}(int32\_t phase, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit::VoltageUnit} unit = 
      \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit::kVolts});
00286 
00287   \textcolor{comment}{/*****************************************************************************}
00288 \textcolor{comment}{   * Set result voltage.}
00289 \textcolor{comment}{   ****************************************************************************/}
00299   \textcolor{keywordtype}{void} \hyperlink{group___models_ga2b2c5a373d87025e79d26aa9c4cea75a}{setRV}(int32\_t phase, complex<double> resultVoltage,
00300              \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit::VoltageUnit} unit = \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit::kVolts});
00301 
00302   \textcolor{comment}{/*****************************************************************************}
00303 \textcolor{comment}{   * Result value for bar current.}
00304 \textcolor{comment}{   ****************************************************************************/}
00314   complex<double> \hyperlink{group___models_ga8a009531f01430aa68eba739bb0dc2ea}{rI}(int32\_t phase, \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787}{Unit::CurrentUnit} unit = 
      \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787a368a3c470f0b590a6100dda717a7dd4f}{Unit::kAmpere});
00315 
00316   \textcolor{comment}{/*****************************************************************************}
00317 \textcolor{comment}{  * Add Line.}
00318 \textcolor{comment}{  *****************************************************************************/}
00324   \textcolor{keywordtype}{void} \hyperlink{group___models_ga8cbd2f62d92e69ce6c8d561b682464b6}{addLine}(\hyperlink{class_line}{Line} *line);
00325 
00326   \textcolor{comment}{/*****************************************************************************}
00327 \textcolor{comment}{  * Remove Line.}
00328 \textcolor{comment}{  *****************************************************************************/}
00334   \textcolor{keywordtype}{void} \hyperlink{group___models_ga2536c0e5cb97fb627b3520826ece2c99}{removeLine}(\hyperlink{class_line}{Line} *line);
00335 
00336 
00337   \textcolor{comment}{/*****************************************************************************}
00338 \textcolor{comment}{  * Remove Lines.}
00339 \textcolor{comment}{  *****************************************************************************/}
00343   \textcolor{keywordtype}{void} \hyperlink{group___models_ga4ea1a2074cb45968d80d6add571884a4}{removeLines}();
00344 
00345   \textcolor{comment}{/*****************************************************************************}
00346 \textcolor{comment}{  * Bar to Json.}
00347 \textcolor{comment}{  *****************************************************************************/}
00353   QJsonObject \hyperlink{group___models_ga3eb84c42b687db6cd98e11b8bd38c86e}{toJson}();
00354 
00355   \textcolor{comment}{/*****************************************************************************}
00356 \textcolor{comment}{  * Bar from Json.}
00357 \textcolor{comment}{  *****************************************************************************/}
00363   \textcolor{keywordtype}{void} \hyperlink{group___models_ga1df62f03dd3a066ceaf6588ba6bb6004}{fromJson}(QJsonObject &jsonBar);
00364 
00365   \textcolor{comment}{/*****************************************************************************}
00366 \textcolor{comment}{  * Bounding Rect.}
00367 \textcolor{comment}{  *****************************************************************************/}
00373   QRectF \hyperlink{group___models_ga8279d8109019cc7e139e2023690496be}{boundingRect}() const Q\_DECL\_OVERRIDE;
00374 
00375 signals:
00376   \textcolor{comment}{/*****************************************************************************}
00377 \textcolor{comment}{  * Signals.}
00378 \textcolor{comment}{  *****************************************************************************/}
00383   \textcolor{keywordtype}{void} \hyperlink{class_bar_a66bcbd19582dddee7e171ae5a4475f4b}{eventDoubleClick}();
00384 
00385 protected:
00386   \textcolor{comment}{/*****************************************************************************}
00387 \textcolor{comment}{  * Mouse Double click.}
00388 \textcolor{comment}{  *****************************************************************************/}
00394   \textcolor{keywordtype}{void} \hyperlink{group___models_ga1945e7b4401fa9ad7475274d9fb12a72}{mouseDoubleClickEvent}(QGraphicsSceneMouseEvent *event);
00395 
00396   \textcolor{comment}{/*****************************************************************************}
00397 \textcolor{comment}{  * Item Change.}
00398 \textcolor{comment}{  *****************************************************************************/}
00404   QVariant \hyperlink{group___models_gad97a82d618ee0c51a9a36e44339c69e6}{itemChange}(GraphicsItemChange change,
00405                       const QVariant &value) Q\_DECL\_OVERRIDE;
00406 
00407   \textcolor{comment}{/*****************************************************************************}
00408 \textcolor{comment}{  * Paint.}
00409 \textcolor{comment}{  *****************************************************************************/}
00414   \textcolor{keywordtype}{void} \hyperlink{group___models_gacbb6dbac607412c9c1f9dfcd0cd4d432}{paint}(QPainter *painter, const QStyleOptionGraphicsItem *option,
00415              QWidget *widget) Q\_DECL\_OVERRIDE;
00416 
00417 private:
00418   \textcolor{comment}{/*****************************************************************************}
00419 \textcolor{comment}{  * Private data.}
00420 \textcolor{comment}{  *****************************************************************************/}
00427   \hyperlink{class_info_bar}{InfoBar} *infoBar;
00428 
00433   complex<\textcolor{keywordtype}{double}> v\_[3];
00434 
00440   complex<\textcolor{keywordtype}{double}> sh\_[3];
00441 
00446   complex<\textcolor{keywordtype}{double}> si\_[3];
00447 
00452   complex<\textcolor{keywordtype}{double}> rV\_[3];
00453 
00458   complex<\textcolor{keywordtype}{double}> rSi\_[3];
00459 
00460 
00461   \textcolor{comment}{/*****************************************************************************}
00462 \textcolor{comment}{  * Draw Slack.}
00463 \textcolor{comment}{  *****************************************************************************/}
00470   \textcolor{keywordtype}{void} drawSlack(QPainter *painter);
00471 
00472   \textcolor{comment}{/*****************************************************************************}
00473 \textcolor{comment}{  * Draw PQ.}
00474 \textcolor{comment}{  *****************************************************************************/}
00481   \textcolor{keywordtype}{void} drawPq(QPainter *painter);
00482 \};
00483 
00484 \textcolor{preprocessor}{#endif  // MODELS\_BAR\_H}
00485 
\end{DoxyCode}
