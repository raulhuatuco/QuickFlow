\hypertarget{class_bar}{}\subsection{Bar Class Reference}
\label{class_bar}\index{Bar@{Bar}}


Represents a busbar in power distribution systems.  




Inheritance diagram for Bar\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=172pt]{class_bar__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Bar\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{class_bar__coll__graph}
\end{center}
\end{figure}
\subsubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_bar_a66bcbd19582dddee7e171ae5a4475f4b}{event\+Double\+Click} ()
\begin{DoxyCompactList}\small\item\em Double click signal. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___models_ga9cae2188fcc6cce41caa7898c64548d1}{Bar} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{group___models_gab1c5a81ad40dbc7ee745077b4f5c20d4}{Bar} (complex$<$ double $>$ initial\+V, complex$<$ double $>$ initial\+Sh=0.\+0, complex$<$ double $>$ initial\+Si=0.\+0)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{group___models_ga9c7ebea0c189423591741ac438985316}{$\sim$\+Bar} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga1e6f2daec86407118656d88170d1adc2}{v} (int32\+\_\+t phase, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit\+::k\+Volts})
\begin{DoxyCompactList}\small\item\em Initial Voltage. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga9b6fbc92674bfcdc9d5090795ab335a6}{set\+V} (int32\+\_\+t phase, complex$<$ double $>$ new\+Voltage, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit\+::k\+Volts})
\begin{DoxyCompactList}\small\item\em Set initial voltage. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga1c54bd76b2f620d970ddfed8cdae4116}{v\+Pu} (int32\+\_\+t phase)
\begin{DoxyCompactList}\small\item\em Returns the initial voltage converted to per unit. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_gac188071bf5f165b0acdaa4c8af82355c}{sh} (int32\+\_\+t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit\+::k\+V\+A})
\begin{DoxyCompactList}\small\item\em Shutn element. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga207abd3d0649a488e3c44cf2a501ed23}{set\+Sh} (int32\+\_\+t phase, complex$<$ double $>$ new\+Power, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit\+::k\+V\+A})
\begin{DoxyCompactList}\small\item\em Set Shunt power. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga7df2ed5705f06c0cf2937d25102ca847}{sh\+Pu} (int32\+\_\+t phase)
\begin{DoxyCompactList}\small\item\em Shunt element power in pu. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga02bbc279f1e133f66b12ee21e7bebcd8}{si} (int32\+\_\+t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit\+::k\+V\+A})
\begin{DoxyCompactList}\small\item\em Injected power. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga74e510be49e50e4c14550b32e1dc92f9}{set\+Si} (int32\+\_\+t phase, complex$<$ double $>$ new\+Power, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit\+::k\+V\+A})
\begin{DoxyCompactList}\small\item\em Set the injected power. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga8ac94a6b5f69417da962a7d87361b416}{si\+Pu} (int32\+\_\+t phase)
\begin{DoxyCompactList}\small\item\em Injected power in per unit. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga2d1f6bfbd8abaf168bb75bd8e5cd9b5e}{r\+V} (int32\+\_\+t phase, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit\+::k\+Volts})
\begin{DoxyCompactList}\small\item\em Result bar voltage. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga2b2c5a373d87025e79d26aa9c4cea75a}{set\+R\+V} (int32\+\_\+t phase, complex$<$ double $>$ result\+Voltage, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1aa54b2473993a702a3923525765bd6e4c}{Unit\+::k\+Volts})
\begin{DoxyCompactList}\small\item\em Set result voltage. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga7deee8820e2ee3e0db993a1e76b68700}{r\+V\+Pu} (int32\+\_\+t phase)
\begin{DoxyCompactList}\small\item\em Result voltage in pu. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_gac8ddd4cb566d995b70b0f83146aa12b3}{r\+Si} (int32\+\_\+t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit\+::k\+V\+A})
\begin{DoxyCompactList}\small\item\em Result injected power. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga36d3d54b66584a0557c0c141f4636d4c}{set\+R\+Si} (int32\+\_\+t phase, complex$<$ double $>$ new\+Power, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3ba72b181a842ae2759488a2fa1410d3696}{Unit\+::k\+V\+A})
\begin{DoxyCompactList}\small\item\em Set result injected power. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga1fa1b99d17dd19fafcf8309aba4fc758}{r\+Si\+Pu} (int32\+\_\+t phase)
\begin{DoxyCompactList}\small\item\em Result injected power, in pu. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga8cbd2f62d92e69ce6c8d561b682464b6}{add\+Line} (\hyperlink{class_line}{Line} $\ast$line)
\begin{DoxyCompactList}\small\item\em Add line to bar. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga2536c0e5cb97fb627b3520826ece2c99}{remove\+Line} (\hyperlink{class_line}{Line} $\ast$line)
\begin{DoxyCompactList}\small\item\em Remove line link;. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga4ea1a2074cb45968d80d6add571884a4}{remove\+Lines} ()
\begin{DoxyCompactList}\small\item\em Remove all lines from this bar. \end{DoxyCompactList}\item 
Q\+Json\+Object \hyperlink{group___models_ga3eb84c42b687db6cd98e11b8bd38c86e}{to\+Json} ()
\begin{DoxyCompactList}\small\item\em Convert bar data to json object. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga1df62f03dd3a066ceaf6588ba6bb6004}{from\+Json} (Q\+Json\+Object \&json\+Bar)
\begin{DoxyCompactList}\small\item\em Fill bar data from Json data. \end{DoxyCompactList}\item 
Q\+Rect\+F \hyperlink{group___models_ga8279d8109019cc7e139e2023690496be}{bounding\+Rect} () const Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em \hyperlink{class_bar}{Bar} bounding rect. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int32\+\_\+t \hyperlink{class_bar_a9dc5c6a6d44fe412ae34ef8a881b8dce}{id}
\begin{DoxyCompactList}\small\item\em The bar id. \end{DoxyCompactList}\item 
\hyperlink{class_network}{Network} $\ast$ \hyperlink{class_bar_a80025f13884750add58cc61b318357ff}{network}
\begin{DoxyCompactList}\small\item\em A reference to the \hyperlink{class_network}{Network} where the bar is. \end{DoxyCompactList}\item 
Q\+Vector$<$ \hyperlink{class_line}{Line} $\ast$ $>$ \hyperlink{class_bar_a23b6d4319352ef0e77ad66aade4e0209}{lines}
\begin{DoxyCompactList}\small\item\em Lines connected to this bar. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const int32\+\_\+t \hyperlink{group___models_ga9919592c0397ed41448dfb20b607d738}{k\+Invalid\+Id} = -\/1
\begin{DoxyCompactList}\small\item\em Indicates an invalid bar. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group___models_ga1945e7b4401fa9ad7475274d9fb12a72}{mouse\+Double\+Click\+Event} (Q\+Graphics\+Scene\+Mouse\+Event $\ast$event)
\begin{DoxyCompactList}\small\item\em Mouse double click event. \end{DoxyCompactList}\item 
Q\+Variant \hyperlink{group___models_gad97a82d618ee0c51a9a36e44339c69e6}{item\+Change} (Graphics\+Item\+Change change, const Q\+Variant \&value) Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em Item change. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gacbb6dbac607412c9c1f9dfcd0cd4d432}{paint} (Q\+Painter $\ast$painter, const Q\+Style\+Option\+Graphics\+Item $\ast$option, Q\+Widget $\ast$widget) Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em \hyperlink{class_bar}{Bar} paint function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
\subparagraph*{Overview}

\hyperlink{class_bar}{Bar} class represents a bar in a power system, providing the data structure and methods that model a real bar. The class also provides the graphical structure to be displayed in a Syste\+View widget. A bar with id equals to 0 is an alimentator (Slack bar). \hyperlink{class_bar}{Bar} properties are\+:
\begin{DoxyItemize}
\item Voltage (for phases 0, 1 and 2)\+: voltage at the bar.
\item Shunt elements (sh) power injection\+: shunt elements are represented by the power they inject in the bar.
\end{DoxyItemize}

Injected power (si)\+: the power injected at the bar (here, power that is consumed is represented as a positive value and power that is generated at the bar is represented with a negative sign).

The bar properties are stored in the following units\+:
\begin{DoxyItemize}
\item Power\+: V\+A.
\item Voltage\+: Volts. In order to use diferent units, use the option parameter {\bfseries unit} with the desired unit.
\end{DoxyItemize}

Bars must be added to a network in order to be displayed by a \hyperlink{class_system_view}{System\+View}.

\#\#\# Example 
\begin{DoxyCode}
\textcolor{comment}{// Code to add a bar.}

\textcolor{comment}{// External objects where the bar will be put in.}
\textcolor{keyword}{extern} \hyperlink{class_system_view}{SystemView} systemView;
\textcolor{keyword}{extern} \hyperlink{class_system_scene}{SystemScene} systemScene;
\textcolor{keyword}{extern} \hyperlink{class_network}{Network} \hyperlink{class_bar_a80025f13884750add58cc61b318357ff}{network};

\hyperlink{class_bar}{Bar} * bar = \textcolor{keyword}{new} \hyperlink{group___models_ga9cae2188fcc6cce41caa7898c64548d1}{Bar};
\textcolor{comment}{// Bar id must be defined.}
\hyperlink{class_bar}{Bar}->\hyperlink{class_bar_a9dc5c6a6d44fe412ae34ef8a881b8dce}{id} = 20;

network.\hyperlink{group___graphics_ga8c5dfef0216731246f7411e1a5fbee01}{addBar}(bar);
systemScene addNetwork(&network);
systemView.addScene(&systemScene);
\end{DoxyCode}


\begin{DoxyNote}{Note}
The values v, sh and si are the initial conditions. Results of the load flow calculation have a \char`\"{}r\char`\"{} in the name, like r\+V and r\+Si. 
\end{DoxyNote}


Definition at line \hyperlink{bar_8h_source_l00111}{111} of file \hyperlink{bar_8h_source}{bar.\+h}.



\subsubsection{Member Function Documentation}
\hypertarget{class_bar_a66bcbd19582dddee7e171ae5a4475f4b}{}\index{Bar@{Bar}!event\+Double\+Click@{event\+Double\+Click}}
\index{event\+Double\+Click@{event\+Double\+Click}!Bar@{Bar}}
\paragraph[{event\+Double\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Bar\+::event\+Double\+Click (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}\label{class_bar_a66bcbd19582dddee7e171ae5a4475f4b}
Signal emited when a double click occurs. 

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_bar_a66bcbd19582dddee7e171ae5a4475f4b_icgraph}
\end{center}
\end{figure}




\subsubsection{Member Data Documentation}
\hypertarget{class_bar_a9dc5c6a6d44fe412ae34ef8a881b8dce}{}\index{Bar@{Bar}!id@{id}}
\index{id@{id}!Bar@{Bar}}
\paragraph[{id}]{\setlength{\rightskip}{0pt plus 5cm}int32\+\_\+t Bar\+::id}\label{class_bar_a9dc5c6a6d44fe412ae34ef8a881b8dce}
Id number if the bar. A bar with I\+D 0 will be the slack bar. Only one bar in a network can be a slack and every other bars need an id $>$ 0. 

Definition at line \hyperlink{bar_8h_source_l00136}{136} of file \hyperlink{bar_8h_source}{bar.\+h}.

\hypertarget{class_bar_a23b6d4319352ef0e77ad66aade4e0209}{}\index{Bar@{Bar}!lines@{lines}}
\index{lines@{lines}!Bar@{Bar}}
\paragraph[{lines}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<${\bf Line} $\ast$$>$ Bar\+::lines}\label{class_bar_a23b6d4319352ef0e77ad66aade4e0209}
All lines that connect to this bar are listed here. \begin{DoxyWarning}{Warning}
Don\textquotesingle{}t use the lines vector to manipulate lines directly. Instead, use the provided add and remove functions. 
\end{DoxyWarning}


Definition at line \hyperlink{bar_8h_source_l00151}{151} of file \hyperlink{bar_8h_source}{bar.\+h}.

\hypertarget{class_bar_a80025f13884750add58cc61b318357ff}{}\index{Bar@{Bar}!network@{network}}
\index{network@{network}!Bar@{Bar}}
\paragraph[{network}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Network}$\ast$ Bar\+::network}\label{class_bar_a80025f13884750add58cc61b318357ff}
This option is used internaly to determine color settings and units. \begin{DoxyWarning}{Warning}
This option must be not N\+U\+L\+L in order to add the bar to a scene. 
\end{DoxyWarning}


Definition at line \hyperlink{bar_8h_source_l00143}{143} of file \hyperlink{bar_8h_source}{bar.\+h}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{bar_8h}{bar.\+h}\item 
\hyperlink{bar_8cpp}{bar.\+cpp}\end{DoxyCompactItemize}
