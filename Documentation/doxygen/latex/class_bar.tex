\hypertarget{class_bar}{}\subsection{Bar Class Reference}
\label{class_bar}\index{Bar@{Bar}}


Represents a busbar in power distribution systems.  




Inheritance diagram for Bar\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=172pt]{class_bar__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Bar\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=172pt]{class_bar__coll__graph}
\end{center}
\end{figure}
\subsubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_bar_a66bcbd19582dddee7e171ae5a4475f4b}{event\+Double\+Click} ()
\begin{DoxyCompactList}\small\item\em Double click signal. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___models_ga9cae2188fcc6cce41caa7898c64548d1}{Bar} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{group___models_ga9c7ebea0c189423591741ac438985316}{$\sim$\+Bar} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
int32\+\_\+t \hyperlink{group___models_gacf0fb781a73856bb7beb823304465e13}{id} ()
\begin{DoxyCompactList}\small\item\em The bar id. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gae3cf341a76cc4589fe3203d0a3ed2ac0}{set\+Bar\+Id} (int32\+\_\+t \hyperlink{group___models_gacf0fb781a73856bb7beb823304465e13}{id})
\begin{DoxyCompactList}\small\item\em Set the bar id. \end{DoxyCompactList}\item 
\hyperlink{class_network}{Network} $\ast$ \hyperlink{group___models_gab0594d5d7313e8749bb85434b255db9a}{network} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{class_bar}{Bar} current network. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gade9a307fdb6a81871787899ec1af5833}{set\+Network} (\hyperlink{class_network}{Network} $\ast$\hyperlink{group___models_gab0594d5d7313e8749bb85434b255db9a}{network})
\begin{DoxyCompactList}\small\item\em Set bar network. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_gab3ed62a7f2eb9c41a0b84543f1ef8d3b}{v} (int8\+\_\+t phase, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1ab44b1310b59fdcdc9df5bbea91da4206}{Unit\+::k\+Volts\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Initial Voltage. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga8d1e70b2d11ed4245e81b8b20858079d}{set\+V} (int8\+\_\+t phase, complex$<$ double $>$ new\+Voltage, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1ab44b1310b59fdcdc9df5bbea91da4206}{Unit\+::k\+Volts\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set initial voltage. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_gac020fff2f22a9caab71f21205b5773f8}{sh} (int8\+\_\+t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit\+::k\+Va\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Shutn element. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gafd91c7f15566b9d5a68a197efeaeaf26}{set\+Sh} (int8\+\_\+t phase, complex$<$ double $>$ new\+Power, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit\+::k\+Va\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set Shunt power. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga9af07eb85c2c76eb3bc73e25bb842c1e}{si} (int8\+\_\+t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit\+::k\+Va\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Injected power. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga85e2a9b8a281900333fd65d1b532acfd}{set\+Si} (int8\+\_\+t phase, complex$<$ double $>$ new\+Power, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit\+::k\+Va\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set the injected power. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga6c83eb997f5038e0b9bbd5472582e0a8}{r\+V} (int8\+\_\+t phase, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1ab44b1310b59fdcdc9df5bbea91da4206}{Unit\+::k\+Volts\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Resulting bar voltage. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga96ab396a6e953a0356f60adb1784ee37}{set\+R\+V} (int8\+\_\+t phase, complex$<$ double $>$ result\+Voltage, \hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1}{Unit\+::\+Voltage\+Unit} unit=\hyperlink{class_unit_a55b07dfa9457e1eca2c7194fe0cfc3c1ab44b1310b59fdcdc9df5bbea91da4206}{Unit\+::k\+Volts\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set result voltage. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga50eb46f3510205a9d6cb5e6547fa86df}{r\+I} (int8\+\_\+t phase, \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787}{Unit\+::\+Current\+Unit} unit=\hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787aeed3b50e464d581cb630181a3b6a0709}{Unit\+::k\+Ampere\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Resulting bar current. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gaf7a406f8952b1e874c95c41b0955d250}{set\+R\+I} (int8\+\_\+t phase, complex$<$ double $>$ result\+Current, \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787}{Unit\+::\+Current\+Unit} unit=\hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787aeed3b50e464d581cb630181a3b6a0709}{Unit\+::k\+Ampere\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set resulting current. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gabb1a3b7653d4e2327c4bf728210f197e}{add\+Line} (Q\+Pointer$<$ \hyperlink{class_line}{Line} $>$ line)
\begin{DoxyCompactList}\small\item\em Add line to bar. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gaec9faaf687415c27cd1d0527e1b94504}{remove\+Line} (Q\+Pointer$<$ \hyperlink{class_line}{Line} $>$ line)
\begin{DoxyCompactList}\small\item\em Remove line link;. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga4ea1a2074cb45968d80d6add571884a4}{remove\+Lines} ()
\begin{DoxyCompactList}\small\item\em Remove all lines from this bar. \end{DoxyCompactList}\item 
Q\+Json\+Object \hyperlink{group___models_ga3eb84c42b687db6cd98e11b8bd38c86e}{to\+Json} ()
\begin{DoxyCompactList}\small\item\em Convert bar data to json object. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga1df62f03dd3a066ceaf6588ba6bb6004}{from\+Json} (Q\+Json\+Object \&json\+Bar)
\begin{DoxyCompactList}\small\item\em Fill bar data from Json data. \end{DoxyCompactList}\item 
Q\+Rect\+F \hyperlink{group___models_ga8279d8109019cc7e139e2023690496be}{bounding\+Rect} () const Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em \hyperlink{class_bar}{Bar} bounding rect. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
Q\+Vector$<$ Q\+Pointer$<$ \hyperlink{class_line}{Line} $>$ $>$ \hyperlink{class_bar_a5aabf1f4ac22e20e9cb702a3a7e08eea}{lines}
\begin{DoxyCompactList}\small\item\em Lines connected to this bar. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const int32\+\_\+t \hyperlink{group___models_ga9919592c0397ed41448dfb20b607d738}{k\+Invalid\+Id} = -\/1
\begin{DoxyCompactList}\small\item\em Indicates an invalid bar. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group___models_ga1945e7b4401fa9ad7475274d9fb12a72}{mouse\+Double\+Click\+Event} (Q\+Graphics\+Scene\+Mouse\+Event $\ast$event)
\begin{DoxyCompactList}\small\item\em Mouse double click event. \end{DoxyCompactList}\item 
Q\+Variant \hyperlink{group___models_gad97a82d618ee0c51a9a36e44339c69e6}{item\+Change} (Graphics\+Item\+Change change, const Q\+Variant \&value) Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em Item change. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gacbb6dbac607412c9c1f9dfcd0cd4d432}{paint} (Q\+Painter $\ast$painter, const Q\+Style\+Option\+Graphics\+Item $\ast$option, Q\+Widget $\ast$widget) Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em \hyperlink{class_bar}{Bar} paint function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
\subparagraph*{Overview}

\hyperlink{class_bar}{Bar} class represents a bar in a power system, providing the data structure and methods that model a real bar.

The class also provides the graphical structure to be displayed in a \hyperlink{class_system_view}{System\+View} widget.

When selected, the bar will show an information window with all its resulting values, in the current project units.

A bar with id equals to 0 is an alimentator (Slack bar).

\hyperlink{class_bar}{Bar} properties are\+:
\begin{DoxyItemize}
\item Voltage ({\itshape v})\+: is the line voltage at the bar.
\item Shunt elements ({\itshape sh}) power\+: shunt elements are represented by the power they inject in the bar.
\item Injected power ({\itshape si})\+: the power injected in the bar (here, power that is consumed is represented as a positive value and power that is generated at the bar is represented with a negative sign).
\item Resulting Current ({\itshape r\+I})\+: current at bar, this is used as a result value.
\item Resulting Voltage ({\itshape r\+V})\+: the resulting voltage after calculations, used in \hyperlink{class_info_bar}{Info\+Bar} class.
\end{DoxyItemize}

The bar properties are stored in the following units\+:
\begin{DoxyItemize}
\item Power\+: V\+A per unit.
\item Voltage\+: Volts per unit.
\end{DoxyItemize}

Also, bars are connected through lines.

In order to use diferent units, use the option parameter {\bfseries unit} with the desired unit.

Bars must be added to a network in order to be displayed by a \hyperlink{class_system_view}{System\+View}.

\#\#\# Example 
\begin{DoxyCode}
\textcolor{comment}{// Code to add a bar. //}

\textcolor{comment}{// External objects where the bar will be put in.}
\textcolor{keyword}{extern} \hyperlink{class_system_view}{SystemView} *systemView;
\textcolor{keyword}{extern} \hyperlink{class_network}{Network} *\hyperlink{group___models_gab0594d5d7313e8749bb85434b255db9a}{network};

QPointer<Bar> bar = \textcolor{keyword}{new} \hyperlink{group___models_ga9cae2188fcc6cce41caa7898c64548d1}{Bar};
\textcolor{comment}{// Bar id must be defined.}
bar->id = 20;

\textcolor{keywordflow}{if}(!network.\hyperlink{group___models_ga8c5dfef0216731246f7411e1a5fbee01}{addBar}(bar))\{
  \textcolor{keywordflow}{return};
\}

systemView.\hyperlink{group___graphics_gac4e02019d41c203c788ff1e6f3ee460e}{addBar}(bar);
\end{DoxyCode}


\begin{DoxyNote}{Note}
The values v, sh and si are the initial conditions. Results of the load flow calculation have a \char`\"{}r\char`\"{} in the name, like r\+V and r\+I.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
When bar is deleted, all lines connecting to it will also be deleted.

In order to prevent memory corruption, always use Q\+Pointer object as the pointer when creating a new bar or when deleting one. 
\end{DoxyWarning}


Definition at line \hyperlink{bar_8h_source_l00134}{134} of file \hyperlink{bar_8h_source}{bar.\+h}.



\subsubsection{Member Function Documentation}
\hypertarget{class_bar_a66bcbd19582dddee7e171ae5a4475f4b}{}\index{Bar@{Bar}!event\+Double\+Click@{event\+Double\+Click}}
\index{event\+Double\+Click@{event\+Double\+Click}!Bar@{Bar}}
\paragraph[{event\+Double\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Bar\+::event\+Double\+Click (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}\label{class_bar_a66bcbd19582dddee7e171ae5a4475f4b}
Signal emited when a double click occurs. 

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_bar_a66bcbd19582dddee7e171ae5a4475f4b_icgraph}
\end{center}
\end{figure}




\subsubsection{Member Data Documentation}
\hypertarget{class_bar_a5aabf1f4ac22e20e9cb702a3a7e08eea}{}\index{Bar@{Bar}!lines@{lines}}
\index{lines@{lines}!Bar@{Bar}}
\paragraph[{lines}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$Q\+Pointer$<${\bf Line}$>$ $>$ Bar\+::lines}\label{class_bar_a5aabf1f4ac22e20e9cb702a3a7e08eea}
All lines that connect to this bar are listed here.

\begin{DoxyWarning}{Warning}
Don\textquotesingle{}t use the lines vector to manipulate lines directly. Instead, use the provided add and remove functions.
\end{DoxyWarning}
\begin{DoxyNote}{Note}
In order to prevent memory corruption, a Q\+Pointer object is used as the pointer for lines here, since when delete, the bar will try to remove every line connected to it. 
\end{DoxyNote}


Definition at line \hyperlink{bar_8h_source_l00165}{165} of file \hyperlink{bar_8h_source}{bar.\+h}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{bar_8h}{bar.\+h}\item 
\hyperlink{bar_8cpp}{bar.\+cpp}\end{DoxyCompactItemize}
