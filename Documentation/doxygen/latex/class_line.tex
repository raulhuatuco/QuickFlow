\hypertarget{class_line}{}\subsection{Line Class Reference}
\label{class_line}\index{Line@{Line}}


Represents a line in power distribution systems.  




Inheritance diagram for Line\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=172pt]{class_line__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Line\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=172pt]{class_line__coll__graph}
\end{center}
\end{figure}
\subsubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_line_a2444b577ea2254994599c6f829c629a5}{event\+Double\+Click} ()
\begin{DoxyCompactList}\small\item\em Event double click. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group___models_gacc11b8a429d8cdd63ba6803dff5602b3}{Line} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{group___models_gaabe85f48d22d92b62257091f48174fac}{$\sim$\+Line} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\hyperlink{class_network}{Network} $\ast$ \hyperlink{group___models_gaa4cfa330c9c53ddaf86c8f5c17ba1ee0}{network} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{class_network}{Network}. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga320766e09f0ea36b2dd07d3b1db1b72e}{set\+Network} (\hyperlink{class_network}{Network} $\ast$\hyperlink{group___models_gaa4cfa330c9c53ddaf86c8f5c17ba1ee0}{network})
\begin{DoxyCompactList}\small\item\em Set network. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga0b44ccb2f14635c42d7eab3fe8940692}{z} (int8\+\_\+t index, \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit\+::\+Impedance\+Unit} unit=\hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit\+::k\+Ohm\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em \hyperlink{class_line}{Line} impedance. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga508b2db19afc02064c1afe494a25ebcc}{z} (int8\+\_\+t line, int8\+\_\+t colum, \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit\+::\+Impedance\+Unit} unit=\hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit\+::k\+Ohm\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em \hyperlink{class_line}{Line} impedance. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga2b8fe47ae4ae2d4422d9431e17b4927d}{set\+Z} (int8\+\_\+t index, complex$<$ double $>$ new\+Impedance, \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit\+::\+Impedance\+Unit} unit=\hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit\+::k\+Ohm\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set line impedance. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga0c6767e389e4ee26932b6f22ca8f89f5}{set\+Z} (int8\+\_\+t line, int8\+\_\+t colum, complex$<$ double $>$ new\+Impedance, \hyperlink{class_unit_a3747e779c805df24a71961290be3fbdf}{Unit\+::\+Impedance\+Unit} unit=\hyperlink{class_unit_a3747e779c805df24a71961290be3fbdfa9327dc8628a47375d70037499f9d0910}{Unit\+::k\+Ohm\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set line impedance. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga2ad899adaa4f2e25b38c58e076db94ea}{i} (int8\+\_\+t phase, \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787}{Unit\+::\+Current\+Unit} unit=\hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787aeed3b50e464d581cb630181a3b6a0709}{Unit\+::k\+Ampere\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em \hyperlink{class_line}{Line} current. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gab01ecad45ee9d81a33b9f5806533066c}{set\+I} (int8\+\_\+t phase, complex$<$ double $>$ new\+Current, \hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787}{Unit\+::\+Current\+Unit} unit=\hyperlink{class_unit_a0794cf6c9682f48296dd4a5315389787aeed3b50e464d581cb630181a3b6a0709}{Unit\+::k\+Ampere\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set line current. \end{DoxyCompactList}\item 
complex$<$ double $>$ \hyperlink{group___models_ga511d4e89d613d4f222480476f2da3abe}{loss} (int8\+\_\+t phase, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit\+::k\+Va\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em \hyperlink{class_line}{Line} loss. \end{DoxyCompactList}\item 
void \hyperlink{group___models_gaf154792ce92a49027384b29de75373b9}{set\+Loss} (int8\+\_\+t phase, complex$<$ double $>$ new\+Loss, \hyperlink{class_unit_ace265ae255370ccacfd5370337572c3b}{Unit\+::\+Power\+Unit} unit=\hyperlink{class_unit_ace265ae255370ccacfd5370337572c3bae056e80d620a87c61a44c359e6b05cc1}{Unit\+::k\+Va\+Per\+Unit})
\begin{DoxyCompactList}\small\item\em Set power loss in the line. \end{DoxyCompactList}\item 
double \hyperlink{group___models_gae2e4500d0fa60dcc2ecb08b2c96954f9}{length} (\hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0}{Unit\+::\+Length\+Unit} unit=\hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0abfa41ebe7ee649a1f02c9b8ae570434b}{Unit\+::k\+Meter})
\begin{DoxyCompactList}\small\item\em \hyperlink{class_line}{Line} length. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga950d0b8f5d167eda430c65ca7adadbb0}{set\+Length} (double new\+Length, \hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0}{Unit\+::\+Length\+Unit} unit=\hyperlink{class_unit_a8c8921f7b225ad6063b1cb573425b9a0abfa41ebe7ee649a1f02c9b8ae570434b}{Unit\+::k\+Meter})
\begin{DoxyCompactList}\small\item\em Set line length. \end{DoxyCompactList}\item 
\hyperlink{class_bar}{Bar} $\ast$ \hyperlink{group___models_gaeafd90e84ac2f8de2a879abe9e53eef3}{p\+No\+I} ()
\begin{DoxyCompactList}\small\item\em Pointer to initial node (bar). \end{DoxyCompactList}\item 
\hyperlink{class_bar}{Bar} $\ast$ \hyperlink{group___models_gabbc73ddedd3075c33ae5331bd7c9829f}{p\+No\+F} ()
\begin{DoxyCompactList}\small\item\em Pointer to final node (bar). \end{DoxyCompactList}\item 
void \hyperlink{group___models_gaeeab146e6c1d7d1a688a2764a9c9a170}{set\+Nodes} (\hyperlink{class_bar}{Bar} $\ast$\hyperlink{group___models_gaeafd90e84ac2f8de2a879abe9e53eef3}{p\+No\+I}, \hyperlink{class_bar}{Bar} $\ast$\hyperlink{group___models_gabbc73ddedd3075c33ae5331bd7c9829f}{p\+No\+F})
\begin{DoxyCompactList}\small\item\em Set nodes pointers. \end{DoxyCompactList}\item 
Q\+Json\+Object \hyperlink{group___models_ga4effa7a96db465ea6e01135d5a010739}{to\+Json} ()
\begin{DoxyCompactList}\small\item\em \hyperlink{class_line}{Line} data to Json. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga62623ad71df5279377cc69da90decc75}{from\+Json} (Q\+Json\+Object \&line\+Json)
\begin{DoxyCompactList}\small\item\em Load line data from a Json object. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga8fdb12651d4bc592616d241386b066b3}{update\+Position} ()
\begin{DoxyCompactList}\small\item\em Update position. \end{DoxyCompactList}\item 
Q\+Rect\+F \hyperlink{group___models_gad15c3af158d3b966c04be7e18cee5aea}{bounding\+Rect} () const Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em Bounding Rect. \end{DoxyCompactList}\item 
Q\+Painter\+Path \hyperlink{group___models_gaf1736b829a643d99052ef6428ddd5b16}{shape} () const Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em \hyperlink{class_line}{Line} shape. \end{DoxyCompactList}\item 
Q\+Variant \hyperlink{group___models_ga5fcee3f23eb50e34f730d602a3802b93}{item\+Change} (Graphics\+Item\+Change change, const Q\+Variant \&value) Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em Item change. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
Q\+Pair$<$ int32\+\_\+t, int32\+\_\+t $>$ \hyperlink{class_line_afd17c40d656e6a8d677cb22df5f0c70b}{nodes}
\begin{DoxyCompactList}\small\item\em Initial and final nodes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const int32\+\_\+t \hyperlink{group___models_gadc334bd07c6126abc56e531d7e3e72b4}{k\+Invalid\+Node} = -\/1
\begin{DoxyCompactList}\small\item\em Indicates an invalid bar. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group___models_ga9a1fee5b1606ab0deedd04bdab99be70}{mouse\+Double\+Click\+Event} (Q\+Graphics\+Scene\+Mouse\+Event $\ast$event) Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em Mouse double click event. \end{DoxyCompactList}\item 
void \hyperlink{group___models_ga0aa64aed379d434be5942edf572b444b}{paint} (Q\+Painter $\ast$painter, const Q\+Style\+Option\+Graphics\+Item $\ast$option, Q\+Widget $\ast$widget) Q\+\_\+\+D\+E\+C\+L\+\_\+\+O\+V\+E\+R\+R\+I\+D\+E
\begin{DoxyCompactList}\small\item\em Paint line. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
\subparagraph*{Overview}

\hyperlink{class_line}{Line} class represents a line in a power system, providing the data structure and methods that model a real line.

The class also provides the graphical structure to be displayed in a \hyperlink{class_system_view}{System\+View} widget.

When selected, the line will show an information window with all its resulting values, in the current project units.

Lines connects bars, from an initial node to a final node. The model used is the 3 wire P\+I model, where a line is represented by an 3x3 impedance matrix. Since the impedance matrix is simetric, we store only 6 values (Zaa, Zab, Zac Zbb, Zbc, Zcc) instead of 9 (3x3) values.

\hyperlink{class_line}{Line} properties are\+:
\begin{DoxyItemize}
\item Impedance ({\itshape z})\+: The impedance for each phase, as well as the inter-\/phase impedance.
\item Current ({\itshape i})\+: This is the current obtained from the calculations.
\item Loss ({\itshape loss})\+: The power that is lost due to joule effect.
\item Length ({\itshape length})\+: \hyperlink{class_line}{Line} length. Used to convert impedance input that is in per length units.
\end{DoxyItemize}

All line properties are stored in per unit. Except the length, which is stored in meters.

The parameter {\bfseries unit} is used to get the properties converted in any unit of the propertie type.

To be displayed in a system\+View, lines must have a network and must be connected to an initial bar and a final bar.

Since line selection only with \hyperlink{group___models_gad15c3af158d3b966c04be7e18cee5aea}{bounding\+Rect()} is really bad, the selection area is reimplemented with {\bfseries shape}.

\#\#\# Example 
\begin{DoxyCode}
\textcolor{comment}{// Code to add a line. //}

\textcolor{comment}{// External objects where the line will be put in.}
\textcolor{keyword}{extern} \hyperlink{class_system_view}{SystemView} *systemView;
\textcolor{keyword}{extern} \hyperlink{class_network}{Network} *\hyperlink{group___models_gaa4cfa330c9c53ddaf86c8f5c17ba1ee0}{network};

QPointer<Line> line = \textcolor{keyword}{new} \hyperlink{group___models_gacc11b8a429d8cdd63ba6803dff5602b3}{Line};
\textcolor{comment}{// Line initial and final nodes must be defined before we add it to a network.}
\textcolor{comment}{// The nodes this line is connecting are the slack and bar number 1.}
line->nodes = QPair<int32\_t, int32\_t> (0, 1);

\textcolor{keywordflow}{if}(!network.\hyperlink{group___models_gae02945131494987b3ff9b59b627719b4}{addLine}(line))\{
  \textcolor{keywordflow}{return};
\}

systemView.\hyperlink{group___graphics_gaed2fb15d518cab9a52ea1ee258846bfc}{addLine}(line);
\end{DoxyCode}


\begin{DoxyNote}{Note}
Nodes and bars are interchangeable words in this documentation.

Length does not determine the line length when drawn. The nodes position does.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
In order to prevent memory corruption, always use Q\+Pointer object as the pointer when creating a new line or when deleting one. 
\end{DoxyWarning}


Definition at line \hyperlink{line_8h_source_l00136}{136} of file \hyperlink{line_8h_source}{line.\+h}.



\subsubsection{Member Function Documentation}
\hypertarget{class_line_a2444b577ea2254994599c6f829c629a5}{}\index{Line@{Line}!event\+Double\+Click@{event\+Double\+Click}}
\index{event\+Double\+Click@{event\+Double\+Click}!Line@{Line}}
\paragraph[{event\+Double\+Click}]{\setlength{\rightskip}{0pt plus 5cm}void Line\+::event\+Double\+Click (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}\label{class_line_a2444b577ea2254994599c6f829c629a5}
Emited when a double click happens. 

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_line_a2444b577ea2254994599c6f829c629a5_icgraph}
\end{center}
\end{figure}




\subsubsection{Member Data Documentation}
\hypertarget{class_line_afd17c40d656e6a8d677cb22df5f0c70b}{}\index{Line@{Line}!nodes@{nodes}}
\index{nodes@{nodes}!Line@{Line}}
\paragraph[{nodes}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Pair$<$int32\+\_\+t, int32\+\_\+t$>$ Line\+::nodes}\label{class_line_afd17c40d656e6a8d677cb22df5f0c70b}
The initial and final nodes for this line. The values are bar ids. 

Definition at line \hyperlink{line_8h_source_l00159}{159} of file \hyperlink{line_8h_source}{line.\+h}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{line_8h}{line.\+h}\item 
\hyperlink{line_8cpp}{line.\+cpp}\end{DoxyCompactItemize}
